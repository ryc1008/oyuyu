import{_ as x,a as M}from"./babel-runtime-69a8a51d.js";var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function we(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Y(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var n=function t(){return this instanceof t?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var f=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,f.get?f:{enumerable:!0,get:function(){return e[t]}})}),n}var H=/%[sdj%]/g;function l(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var t=1,f=r[0],i=r.length;if(typeof f=="function")return f.apply(null,r.slice(1));if(typeof f=="string"){for(var a=String(f).replace(H,function(q){if(q==="%%")return"%";if(t>=i)return q;switch(q){case"%s":return String(r[t++]);case"%d":return Number(r[t++]);case"%j":try{return JSON.stringify(r[t++])}catch{return"[Circular]"}break;default:return q}}),u=r[t];t<i;u=r[++t])a+=" "+u;return a}return f}function I(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="pattern"}function p(e,r){return!!(e==null||r==="array"&&Array.isArray(e)&&!e.length||I(r)&&typeof e=="string"&&!e)}function Q(e,r,n){var t=[],f=0,i=e.length;function a(u){t.push.apply(t,u),f++,f===i&&n(t)}e.forEach(function(u){r(u,a)})}function U(e,r,n){var t=0,f=e.length;function i(a){if(a&&a.length){n(a);return}var u=t;t=t+1,u<f?r(e[u],i):n([])}i([])}function W(e){var r=[];return Object.keys(e).forEach(function(n){r.push.apply(r,e[n])}),r}function X(e,r,n,t){if(r.first){var f=W(e);return U(f,n,t)}var i=r.firstFields||[];i===!0&&(i=Object.keys(e));var a=Object.keys(e),u=a.length,q=0,g=[],h=function(v){g.push.apply(g,v),q++,q===u&&t(g)};a.forEach(function(b){var v=e[b];i.indexOf(b)!==-1?U(v,n,h):Q(v,n,h)})}function Z(e){return function(r){return r&&r.message?(r.field=r.field||e.fullField,r):{message:r,field:r.field||e.fullField}}}function z(e,r){if(r){for(var n in r)if(r.hasOwnProperty(n)){var t=r[n];(typeof t>"u"?"undefined":x(t))==="object"&&x(e[n])==="object"?e[n]=M({},e[n],t):e[n]=t}}return e}function B(e,r,n,t,f,i){e.required&&(!n.hasOwnProperty(e.field)||p(r,i||e.type))&&t.push(l(f.messages.required,e.fullField))}function k(e,r,n,t,f){(/^\s+$/.test(r)||r==="")&&t.push(l(f.messages.whitespace,e.fullField))}var D={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},_={integer:function(r){return _.number(r)&&parseInt(r,10)===r},float:function(r){return _.number(r)&&!_.integer(r)},array:function(r){return Array.isArray(r)},regexp:function(r){if(r instanceof RegExp)return!0;try{return!!new RegExp(r)}catch{return!1}},date:function(r){return typeof r.getTime=="function"&&typeof r.getMonth=="function"&&typeof r.getYear=="function"},number:function(r){return isNaN(r)?!1:typeof r=="number"},object:function(r){return(typeof r>"u"?"undefined":x(r))==="object"&&!_.array(r)},method:function(r){return typeof r=="function"},email:function(r){return typeof r=="string"&&!!r.match(D.email)&&r.length<255},url:function(r){return typeof r=="string"&&!!r.match(D.url)},hex:function(r){return typeof r=="string"&&!!r.match(D.hex)}};function ee(e,r,n,t,f){if(e.required&&r===void 0){B(e,r,n,t,f);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;i.indexOf(a)>-1?_[a](r)||t.push(l(f.messages.types[a],e.fullField,e.type)):a&&(typeof r>"u"?"undefined":x(r))!==e.type&&t.push(l(f.messages.types[a],e.fullField,e.type))}function re(e,r,n,t,f){var i=typeof e.len=="number",a=typeof e.min=="number",u=typeof e.max=="number",q=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=r,h=null,b=typeof r=="number",v=typeof r=="string",N=Array.isArray(r);if(b?h="number":v?h="string":N&&(h="array"),!h)return!1;N&&(g=r.length),v&&(g=r.replace(q,"_").length),i?g!==e.len&&t.push(l(f.messages[h].len,e.fullField,e.len)):a&&!u&&g<e.min?t.push(l(f.messages[h].min,e.fullField,e.min)):u&&!a&&g>e.max?t.push(l(f.messages[h].max,e.fullField,e.max)):a&&u&&(g<e.min||g>e.max)&&t.push(l(f.messages[h].range,e.fullField,e.min,e.max))}var A="enum";function te(e,r,n,t,f){e[A]=Array.isArray(e[A])?e[A]:[],e[A].indexOf(r)===-1&&t.push(l(f.messages[A],e.fullField,e[A].join(", ")))}function ne(e,r,n,t,f){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||t.push(l(f.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var i=new RegExp(e.pattern);i.test(r)||t.push(l(f.messages.pattern.mismatch,e.fullField,r,e.pattern))}}}const d={required:B,whitespace:k,type:ee,range:re,enum:te,pattern:ne};function ie(e,r,n,t,f){var i=[],a=e.required||!e.required&&t.hasOwnProperty(e.field);if(a){if(p(r,"string")&&!e.required)return n();d.required(e,r,t,i,f,"string"),p(r,"string")||(d.type(e,r,t,i,f),d.range(e,r,t,i,f),d.pattern(e,r,t,i,f),e.whitespace===!0&&d.whitespace(e,r,t,i,f))}n(i)}function fe(e,r,n,t,f){var i=[],a=e.required||!e.required&&t.hasOwnProperty(e.field);if(a){if(p(r)&&!e.required)return n();d.required(e,r,t,i,f),r!==void 0&&d.type(e,r,t,i,f)}n(i)}function ae(e,r,n,t,f){var i=[],a=e.required||!e.required&&t.hasOwnProperty(e.field);if(a){if(p(r)&&!e.required)return n();d.required(e,r,t,i,f),r!==void 0&&(d.type(e,r,t,i,f),d.range(e,r,t,i,f))}n(i)}function se(e,r,n,t,f){var i=[],a=e.required||!e.required&&t.hasOwnProperty(e.field);if(a){if(p(r)&&!e.required)return n();d.required(e,r,t,i,f),r!==void 0&&d.type(e,r,t,i,f)}n(i)}function de(e,r,n,t,f){var i=[],a=e.required||!e.required&&t.hasOwnProperty(e.field);if(a){if(p(r)&&!e.required)return n();d.required(e,r,t,i,f),p(r)||d.type(e,r,t,i,f)}n(i)}function oe(e,r,n,t,f){var i=[],a=e.required||!e.required&&t.hasOwnProperty(e.field);if(a){if(p(r)&&!e.required)return n();d.required(e,r,t,i,f),r!==void 0&&(d.type(e,r,t,i,f),d.range(e,r,t,i,f))}n(i)}function ue(e,r,n,t,f){var i=[],a=e.required||!e.required&&t.hasOwnProperty(e.field);if(a){if(p(r)&&!e.required)return n();d.required(e,r,t,i,f),r!==void 0&&(d.type(e,r,t,i,f),d.range(e,r,t,i,f))}n(i)}function pe(e,r,n,t,f){var i=[],a=e.required||!e.required&&t.hasOwnProperty(e.field);if(a){if(p(r,"array")&&!e.required)return n();d.required(e,r,t,i,f,"array"),p(r,"array")||(d.type(e,r,t,i,f),d.range(e,r,t,i,f))}n(i)}function ye(e,r,n,t,f){var i=[],a=e.required||!e.required&&t.hasOwnProperty(e.field);if(a){if(p(r)&&!e.required)return n();d.required(e,r,t,i,f),r!==void 0&&d.type(e,r,t,i,f)}n(i)}var ge="enum";function me(e,r,n,t,f){var i=[],a=e.required||!e.required&&t.hasOwnProperty(e.field);if(a){if(p(r)&&!e.required)return n();d.required(e,r,t,i,f),r&&d[ge](e,r,t,i,f)}n(i)}function he(e,r,n,t,f){var i=[],a=e.required||!e.required&&t.hasOwnProperty(e.field);if(a){if(p(r,"string")&&!e.required)return n();d.required(e,r,t,i,f),p(r,"string")||d.pattern(e,r,t,i,f)}n(i)}function ce(e,r,n,t,f){var i=[],a=e.required||!e.required&&t.hasOwnProperty(e.field);if(a){if(p(r)&&!e.required)return n();if(d.required(e,r,t,i,f),!p(r)){var u=void 0;typeof r=="number"?u=new Date(r):u=r,d.type(e,u,t,i,f),u&&d.range(e,u.getTime(),t,i,f)}}n(i)}function le(e,r,n,t,f){var i=[],a=Array.isArray(r)?"array":typeof r>"u"?"undefined":x(r);d.required(e,r,t,i,f,a),n(i)}function C(e,r,n,t,f){var i=e.type,a=[],u=e.required||!e.required&&t.hasOwnProperty(e.field);if(u){if(p(r,i)&&!e.required)return n();d.required(e,r,t,a,f,i),p(r,i)||d.type(e,r,t,a,f)}n(a)}const $={string:ie,method:fe,number:ae,boolean:se,regexp:de,integer:oe,float:ue,array:pe,object:ye,enum:me,pattern:he,date:ce,url:C,hex:C,email:C,required:le};function V(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var r=JSON.parse(JSON.stringify(this));return r.clone=this.clone,r}}}var J=V();function T(e){this.rules=null,this._messages=J,this.define(e)}T.prototype={messages:function(r){return r&&(this._messages=z(V(),r)),this._messages},define:function(r){if(!r)throw new Error("Cannot configure a schema with no rules");if((typeof r>"u"?"undefined":x(r))!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={};var n=void 0,t=void 0;for(n in r)r.hasOwnProperty(n)&&(t=r[n],this.rules[n]=Array.isArray(t)?t:[t])},validate:function(r){var n=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments[2],i=r,a=t,u=f;if(typeof a=="function"&&(u=a,a={}),!this.rules||Object.keys(this.rules).length===0){u&&u();return}function q(o){var m=void 0,s=void 0,c=[],O={};function P(F){Array.isArray(F)?c=c.concat.apply(c,F):c.push(F)}for(m=0;m<o.length;m++)P(o[m]);if(!c.length)c=null,O=null;else for(m=0;m<c.length;m++)s=c[m].field,O[s]=O[s]||[],O[s].push(c[m]);u(c,O)}if(a.messages){var g=this.messages();g===J&&(g=V()),z(g,a.messages),a.messages=g}else a.messages=this.messages();var h=void 0,b=void 0,v={},N=a.keys||Object.keys(this.rules);N.forEach(function(o){h=n.rules[o],b=i[o],h.forEach(function(m){var s=m;typeof s.transform=="function"&&(i===r&&(i=M({},i)),b=i[o]=s.transform(b)),typeof s=="function"?s={validator:s}:s=M({},s),s.validator=n.getValidationMethod(s),s.field=o,s.fullField=s.fullField||o,s.type=n.getType(s),s.validator&&(v[o]=v[o]||[],v[o].push({rule:s,value:b,source:i,field:o}))})});var G={};X(v,a,function(o,m){var s=o.rule,c=(s.type==="object"||s.type==="array")&&(x(s.fields)==="object"||x(s.defaultField)==="object");c=c&&(s.required||!s.required&&o.value),s.field=o.field;function O(E,y){return M({},y,{fullField:s.fullField+"."+E})}function P(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],y=E;if(Array.isArray(y)||(y=[y]),y.length,y.length&&s.message&&(y=[].concat(s.message)),y=y.map(Z(s)),a.first&&y.length)return G[s.field]=1,m(y);if(!c)m(y);else{if(s.required&&!o.value)return s.message?y=[].concat(s.message).map(Z(s)):a.error?y=[a.error(s,l(a.messages.required,s.field))]:y=[],m(y);var w={};if(s.defaultField)for(var L in o.value)o.value.hasOwnProperty(L)&&(w[L]=s.defaultField);w=M({},w,o.rule.fields);for(var j in w)if(w.hasOwnProperty(j)){var K=Array.isArray(w[j])?w[j]:[w[j]];w[j]=K.map(O.bind(null,j))}var S=new T(w);S.messages(a.messages),o.rule.options&&(o.rule.options.messages=a.messages,o.rule.options.error=a.error),S.validate(o.value,o.rule.options||a,function(R){m(R&&R.length?y.concat(R):R)})}}var F=s.validator(s,o.value,P,o.source,a);F&&F.then&&F.then(function(){return P()},function(E){return P(E)})},function(o){q(o)})},getType:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!$.hasOwnProperty(r.type))throw new Error(l("Unknown rule type %s",r.type));return r.type||"string"},getValidationMethod:function(r){if(typeof r.validator=="function")return r.validator;var n=Object.keys(r),t=n.indexOf("message");return t!==-1&&n.splice(t,1),n.length===1&&n[0]==="required"?$.required:$[this.getType(r)]||!1}};T.register=function(r,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");$[r]=n};T.messages=J;const ve=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"})),xe=Y(ve);export{Y as a,be as c,we as g,xe as r};
