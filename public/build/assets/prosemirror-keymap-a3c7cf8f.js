import{a as c}from"./async-validator-33e353d7.js";import{k as d,b as m}from"./w3c-keyname-a25e4cc1.js";import{P as p}from"./prosemirror-state-d26f883c.js";const h=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function y(e){let r=e.split(/-(?!$)/),t=r[r.length-1];t=="Space"&&(t=" ");let i,f,l,a;for(let o=0;o<r.length-1;o++){let s=r[o];if(/^(cmd|meta|m)$/i.test(s))a=!0;else if(/^a(lt)?$/i.test(s))i=!0;else if(/^(c|ctrl|control)$/i.test(s))f=!0;else if(/^s(hift)?$/i.test(s))l=!0;else if(/^mod$/i.test(s))h?a=!0:f=!0;else throw new Error("Unrecognized modifier name: "+s)}return i&&(t="Alt-"+t),f&&(t="Ctrl-"+t),a&&(t="Meta-"+t),l&&(t="Shift-"+t),t}function g(e){let r=Object.create(null);for(let t in e)r[y(t)]=e[t];return r}function n(e,r,t=!0){return r.altKey&&(e="Alt-"+e),r.ctrlKey&&(e="Ctrl-"+e),r.metaKey&&(e="Meta-"+e),t&&r.shiftKey&&(e="Shift-"+e),e}function K(e){return new p({props:{handleKeyDown:u(e)}})}function u(e){let r=g(e);return function(t,i){let f=d(i),l,a=r[n(f,i)];if(a&&a(t.state,t.dispatch,t))return!0;if(f.length==1&&f!=" "){if(i.shiftKey){let o=r[n(f,i,!1)];if(o&&o(t.state,t.dispatch,t))return!0}if((i.shiftKey||i.altKey||i.metaKey||f.charCodeAt(0)>127)&&(l=m[i.keyCode])&&l!=f){let o=r[n(l,i)];if(o&&o(t.state,t.dispatch,t))return!0}}return!1}}const $=Object.freeze(Object.defineProperty({__proto__:null,keydownHandler:u,keymap:K},Symbol.toStringTag,{value:"Module"})),C=c($);export{K as a,u as k,C as r};
